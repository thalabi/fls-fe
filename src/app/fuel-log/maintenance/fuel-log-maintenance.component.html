<p-table [value]="fuelLogArray" [paginator]="true" [rowsPerPageOptions]="[10,20,30]" [rows]="ROWS_PER_PAGE"
    [totalRecords]="page.totalElements" [loading]="loadingStatus" selectionMode="single" [(selection)]="selectedFuelLog"
    (onRowSelect)="onRowSelect($event)" (onRowUnselect)="onRowUnselect($event)" [loading]="loadingStatus" [lazy]="true"
    (onLazyLoad)="onLazyLoad($event)" dataKey="_links.self.href" size="small">
    <!-- <ng-template pTemplate="caption">
    Show <p-selectButton id="logicallyDeletedOptions" [options]="logicallyDeletedOptions"
        [(ngModel)]="logicallyDeletedOption" (onChange)="onChangeLogicallyDeleted($event)"></p-selectButton>
</ng-template> -->
    <ng-template pTemplate="header">
        <tr>
            <th>Date</th>
            <th>Left tank</th>
            <th>Right tank</th>
            <th>Left tank change</th>
            <th>Right tank change</th>
            <th>Price/litre</th>
            <th>Airport</th>
            <th>FBO</th>
            <th>Comment</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-fuelLog>
        <!-- <tr [pSelectableRow]="fuelLog.pricePerLitre ? fuelLog : ''"> -->
        <tr [pSelectableRow]="fuelLog">
            <td>{{fuelLog.date | date: 'yy/M/d h:mm a'}}</td>
            <td>{{fuelLog.left}}</td>
            <td>{{fuelLog.right}}</td>
            <td>{{fuelLog.changeInLeft}}</td>
            <td>{{fuelLog.changeInRight}}</td>
            <td>{{fuelLog.pricePerLitre}}</td>
            <td>{{fuelLog.airport}}</td>
            <td>{{fuelLog.fbo}}</td>
            <td>{{fuelLog.comment}}</td>
        </tr>
    </ng-template>
    <ng-template pTemplate="summary">
        <div>
            <button type="button" pButton icon="pi pi-plus" (click)="showDialog(crudEnum.ADD)" label="Add"></button>
            <button type="button" pButton icon="pi pi-pencil" style="margin-left:0.5rem;"
                (click)="showDialog(crudEnum.UPDATE)" label="Modify"
                [disabled]="modifyAndDeleteButtonsDisable"></button>
            <button type="button" pButton icon="pi pi-minus" style="margin-left:0.5rem;"
                (click)="showDialog(crudEnum.DELETE)" label="Delete"
                [disabled]="modifyAndDeleteButtonsDisable"></button>
        </div>
    </ng-template>
</p-table>

<p-dialog header="Fuel log - {{crudMode}}" [(visible)]="displayDialog" [responsive]="true" showEffect="fade"
    [modal]="true" (onHide)="onChildFormCancel()">

    <app-fuel-log-form [fuelLog]="fuelLogToForm" [acParameters]="acParameters"
        (formSubmitted)="onChildFormSubmit($event)" (formCancelled)="onChildFormCancel()"
        [maintenanceMode]="true"></app-fuel-log-form>
    <!-- <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>

        <p-messages></p-messages>

        <div class="grid" style="width: 30em;">

            <div class="col-2">
                <label for="date">Date</label>
            </div>
            <div class="col-10">
                <p-datepicker formControlName="date" [iconDisplay]="'input'" [showIcon]="true" [showButtonBar]="true"
                    [dateFormat]="'yy-mm-dd'" size="small" [inputStyle]="{'width':'8rem'}"
                    ngClass="date.invalid && && date.touched ? ng-invalid" />
            </div>

            <div class="col-2">
                <label>
                </label>
            </div>
            <div class="col-2">
                <label>
                    <span>Left</span>
                </label>
            </div>
            <div class="col-8">
                <label>
                    <span>Right</span>
                </label>
            </div>

            <div class="col-2">
                <span>In tank</span>
            </div>
            <div class="col-2">
                <span>{{inLeftTank | number: '1.0-1'}}</span>
            </div>
            <div class="col-8">
                <span>{{inRightTank | number: '1.0-1'}}</span>
            </div>


            <div class="col-2">
                <label for="topUp">
                    Top up
                </label>
            </div>
            <div class="col-10">
                <p-checkbox formControlName="topUp" inputId="topUp" binary="true" (onChange)="onChangeTopUp($event)" />
            </div>

            <div class="col-2">
                <label for="addToLeftTank">Add to left tank</label>
            </div>
            <div class="col-2">
                <p-inputnumber inputId="addToLeftTank" formControlName="addToLeftTank" size="small" [min]="0"
                    mode="decimal" [maxFractionDigits]="1" [maxlength]="4" [inputStyle]="{'width':'3rem'}" />
            </div>
            <div class="col-8">
                <p-inputnumber inputId="addToRightTank" formControlName="addToRightTank" size="small" [min]="0"
                    mode="decimal" [maxFractionDigits]="1" [maxlength]="4" [inputStyle]="{'width':'3rem'}" />
            </div>

            <div class="col-2">
                <label for="priceType">Price type</label>
            </div>
            <div class="col-10">
                <p-select id="priceType" [options]="priceTypeOptions" formControlName="priceType" [showClear]="true">
                </p-select>
            </div>

            <div class="col-2">
                <label for="price">Price</label>
            </div>
            <div class="col-10">
                <p-inputnumber inputId="price" formControlName="price" size="small" [min]="0" mode="decimal"
                    [maxFractionDigits]="2" [maxlength]="4" [inputStyle]="{'width':'3rem'}" />
            </div>

            <div class="col-2">
                <label for="airport">Airport</label>
            </div>
            <div class="col-10">
                <input type="text" pInputText inputId="airport" formControlName="airport" size="small" maxlength="4"
                    style="text-transform:uppercase; width: 5rem" />
            </div>

            <div class="col-2">
                <label for="fbo">FBO</label>
            </div>
            <div class="col-10">
                <input type="text" pInputText inputId="airport" formControlName="fbo" size="small" maxlength="256" />
            </div>

            <div class="col-2">
                <label for="comment">Comment</label>
            </div>
            <div class="col-10">
                <input type="text" pInputText inputId="comment" formControlName="comment" size="small"
                    maxlength="4000" />
            </div>

            <p-footer>
                <div class="formgroup-inline">
                    <div class="field">
                        <button pButton type="submit" label="Submit" [disabled]="form.invalid"
                            icon="pi pi-check"></button>
                    </div>
                    <div class="field">
                        <button pButton type="reset" label="Cancel" (click)="onCancel()"></button>
                    </div>
                </div>
            </p-footer>

        </div>
    </form> -->
</p-dialog>